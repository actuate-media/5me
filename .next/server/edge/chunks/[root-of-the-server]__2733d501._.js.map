{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/auth.ts"],"sourcesContent":["import NextAuth from 'next-auth';\r\nimport Google from 'next-auth/providers/google';\r\n\r\nexport const { handlers, signIn, signOut, auth } = NextAuth({\r\n  providers: [\r\n    Google({\r\n      clientId: process.env.GOOGLE_CLIENT_ID!,\r\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\r\n      authorization: {\r\n        params: {\r\n          prompt: 'consent',\r\n          access_type: 'offline',\r\n          response_type: 'code',\r\n          hd: 'actuatemedia.com', // Restrict to Actuate Media domain\r\n        },\r\n      },\r\n    }),\r\n  ],\r\n  callbacks: {\r\n    async signIn({ account, profile }) {\r\n      // Only allow users with @actuatemedia.com email\r\n      if (account?.provider === 'google') {\r\n        return profile?.email?.endsWith('@actuatemedia.com') ?? false;\r\n      }\r\n      return true;\r\n    },\r\n    async session({ session, token }) {\r\n      // Add user ID to session\r\n      if (session.user && token.sub) {\r\n        session.user.id = token.sub;\r\n      }\r\n      return session;\r\n    },\r\n    async jwt({ token, account }) {\r\n      // Persist the OAuth access_token to the token\r\n      if (account) {\r\n        token.accessToken = account.access_token;\r\n      }\r\n      return token;\r\n    },\r\n  },\r\n  pages: {\r\n    signIn: '/login',\r\n    error: '/login',\r\n  },\r\n  session: {\r\n    strategy: 'jwt',\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,wKAAQ,EAAC;IAC1D,WAAW;QACT,IAAA,wKAAM,EAAC;YACL,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;YAC9C,eAAe;gBACb,QAAQ;oBACN,QAAQ;oBACR,aAAa;oBACb,eAAe;oBACf,IAAI;gBACN;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,QAAO,EAAE,OAAO,EAAE,OAAO,EAAE;YAC/B,gDAAgD;YAChD,IAAI,SAAS,aAAa,UAAU;gBAClC,OAAO,SAAS,OAAO,SAAS,wBAAwB;YAC1D;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,yBAAyB;YACzB,IAAI,QAAQ,IAAI,IAAI,MAAM,GAAG,EAAE;gBAC7B,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC7B;YACA,OAAO;QACT;QACA,MAAM,KAAI,EAAE,KAAK,EAAE,OAAO,EAAE;YAC1B,8CAA8C;YAC9C,IAAI,SAAS;gBACX,MAAM,WAAW,GAAG,QAAQ,YAAY;YAC1C;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;QACR,OAAO;IACT;IACA,SAAS;QACP,UAAU;IACZ;AACF"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { auth } from '@/lib/auth';\r\nimport { NextResponse } from 'next/server';\r\n\r\nexport default auth((req) => {\r\n  const isLoggedIn = !!req.auth;\r\n  const isOnDashboard = req.nextUrl.pathname.startsWith('/dashboard') ||\r\n    req.nextUrl.pathname.startsWith('/companies') ||\r\n    req.nextUrl.pathname.startsWith('/feedback') ||\r\n    req.nextUrl.pathname.startsWith('/widgets') ||\r\n    req.nextUrl.pathname.startsWith('/settings');\r\n\r\n  if (isOnDashboard && !isLoggedIn) {\r\n    return NextResponse.redirect(new URL('/login', req.nextUrl));\r\n  }\r\n\r\n  return NextResponse.next();\r\n});\r\n\r\nexport const config = {\r\n  matcher: [\r\n    // Match all protected routes\r\n    '/dashboard/:path*',\r\n    '/companies/:path*',\r\n    '/feedback/:path*',\r\n    '/widgets/:path*',\r\n    '/settings/:path*',\r\n  ],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;uCAEe,IAAA,kIAAI,EAAC,CAAC;IACnB,MAAM,aAAa,CAAC,CAAC,IAAI,IAAI;IAC7B,MAAM,gBAAgB,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,iBACpD,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,iBAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,gBAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,eAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAElC,IAAI,iBAAiB,CAAC,YAAY;QAChC,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,OAAO;IAC5D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,6BAA6B;QAC7B;QACA;QACA;QACA;QACA;KACD;AACH"}}]
}